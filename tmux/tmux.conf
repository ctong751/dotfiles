set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

run '~/.tmux/plugins/tpm/tpm'

set -g mouse on
set -g default-terminal screen-256color
set-option -g default-shell /bin/zsh

#Open panes in current directory
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

#Open windows in current directory
bind c new-window -c "#{pane_current_path}"

set-option -g focus-events on

# reload config file
bind r source-file ~/.config/tmux/tmux.conf

# Styles — Smokies palette
# colour235  = dark ridge background
# colour108  = moss/sage green (accents)
# colour66   = misty blue-gray (muted elements)
# colour188  = morning haze off-white (bright text)
# colour65   = deep forest green (active highlights)
set -g status-position bottom
set-option -g status-style fg=colour66,bg=colour235
set -g renumber-windows on

# Two-line status bar
set -g status-interval 1
set -g status 2
set -g status-left ""
set -g status-right ""
set -g window-status-format ""
set -g window-status-current-format ""
# Line 1: session + windows (left), git branch + path + time (right)
set -g status-format[0] "#[align=left,fg=colour108,bold] #S #[fg=colour66,nobold]#{W:#[range=window|#{window_index}]#{?#{==:#{window_active},1},#[fg=colour65#,bold],#[fg=colour66#,nobold]} #{window_index}:#{window_name} #[norange]}#[align=right,fg=colour108]#(cd #{pane_current_path} && git branch --show-current 2>/dev/null | sed 's/^/⎇ /')#[fg=colour66] • #[fg=colour188]#(echo #{pane_current_path} | sed 's|$HOME|~|')#[fg=colour66] • #[fg=colour108]%I:%M:%S %p "
# Line 2: system stats + now playing (centered)
set -g status-format[1] "#[align=centre,fg=colour188]#(~/.config/tmux/scripts/status-monitor.sh)"

# Pane borders
set -g pane-border-style fg=colour66
set -g pane-active-border-style fg=colour108

# Selection and message styling
set -g mode-style bg=colour65,fg=colour188
set -g message-style bg=colour235,fg=colour108
